#include <ncurses.h>
#include <iostream>
#include <locale.h>
using namespace std;

int map_array[21][40] = {{2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1},
                     {2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2}};

// map 변경 -> game window만 얘가 다룸. 메인 윈도우는 메인함수에서 따로 정의
void map(){
  // setlocale(LC_ALL, "");
  WINDOW *gamewin = newwin(21, 40, 3, 3); //int nlines, int ncols, int begy, int begx
  // wbkgd(gamewin, COLOR_PAIR(1));

  // 배열의 크기 = 윈도우의 크기
  for (int r = 0; r < 21; r++){
    for (int c = 0; c < 40; c++){
      if (map_array[r][c] == 2 || map_array[r][c] == 1) {mvwaddch(gamewin,r,c,'+');}
      else if (map_array[r][c] == 3) {mvwaddch(gamewin,r,c,'@');} // snake head
      else if (map_array[r][c] == 4) {mvwaddch(gamewin,r,c,'#');} // snake body
      else if (map_array[r][c] == 5) {mvwaddch(gamewin,r,c,'G');} // Grow item
      else if (map_array[r][c] == 6) {mvwaddch(gamewin,r,c,'P');} // Poison item
      else if (map_array[r][c] == 7) {mvwaddch(gamewin,r,c,'X');}
      else {mvwaddch(gamewin,r,c,' ');} // space
      // if (map_array[r][c] == 2 || map_array[r][c] == 1) {mvwprintw(gamewin,r,c,"\u2B1C");}
      // else if (map_array[r][c] == 3) {mvwprintw(gamewin,r,c,"\u2B1B");} // snake head
      // else if (map_array[r][c] == 4) {mvwprintw(gamewin,r,c,"\u2B1C");} // snake body
      // else if (map_array[r][c] == 5) {mvwprintw(gamewin,r,c,"\u2B1C");} // Grow item
      // else if (map_array[r][c] == 6) {mvwprintw(gamewin,r,c,"\u2B1C");} // Poison item
      // else if (map_array[r][c] == 7) {mvwprintw(gamewin,r,c,"\u2B1C");}
      // else {mvwprintw(gamewin,r,c," ");} // space
    }
  }
  wrefresh(gamewin); // game window 변경한 부분 적용
  // refresh();
  // return gamewin;
}
